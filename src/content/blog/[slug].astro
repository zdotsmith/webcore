---
// src/pages/blog/[slug].astro
import Layout from "../../layouts/BaseLayout.astro";
import { getEntryBySlug } from "astro:content";

const { slug } = Astro.params;
const post = await getEntryBySlug("blog", slug);
if (!post) throw new Error("Post not found");
const { Content } = await post.render();
const { data } = post;
---
<Layout title={`${data.title} | 3D Studio`} description={data.description}>
  <article class="max-w-3xl">
    <h1 class="text-3xl font-extrabold">{data.title}</h1>
    <p class="mt-2 text-sm text-gray-500">
      {new Date(data.pubDate).toLocaleDateString("en-US", { year: "numeric", month: "short", day: "numeric" })}
    </p>
    <div class="mt-6 space-y-4">
      <Content />
    </div>
  </article>
</Layout>